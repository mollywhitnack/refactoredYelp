<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title> {{user.displayName}}</title>
</head>
<body ng-app='myApp' ng-controller='profileCtrl'>
<h1 class = "profName">{{user.displayName}}</h1>


<button ng-if ="currentUser._id === user._id" class = "btn btn-xs pencilEdit" ng-hide = "displayNameForm" ng-click = "showdisplayNameForm()"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
  <form ng-submit = updatedisplayName() ng-show = "displayNameForm">
    <input type = "text" placeholder = "USername" ng-model = 'newItem.displayName'>
    <button class = "btn btn-info " >Submit</button>
    <button class = "btn btn-danger" type = "cancel" ng-click = "canceldisplayName()">Cancel</button>
  </form>

  <br>

  <div class = "pictureCont"> <img ng-src="{{user.profileImage}}" style="max-height:150px"></div>
  <button ng-if ="currentUser._id === user._id" class = "btn btn-xs pencilEdit" ng-hide = "photoForm" ng-click = "showPictureForm()"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
  <form ng-submit = updatePicture() ng-show = "photoForm">
    <input type = "text" placeholder = "Picture Url" ng-model = 'newItem.profileImage'>
    <button class = "btn btn-info" >Submit</button>
    <button class = "btn btn-danger" type = "cancel" ng-click = "cancelPhotoUrl()">Cancel</button>
  </form>
<hr>
<h4 ng-if ="currentUser._id !== user._id" class = "text-center"> {{user.displayName}}'s Favorite Places</h4>
<h4 ng-if ="currentUser._id === user._id" class = "text-center"> My Favorite Places</h4>

<div class  ="text-center">
  <span ng-repeat = 'business in displayFaves' class = 'favoriteBusinesses'> 
    <a ui-sref = 'showBusiness({businessId: business.id})' class = "selectBusiness">
      <h4>{{business.name}} </h4>
      <img src="{{business.rating_img_url}}">
      <div>{{business.location.display_address[0]}}</div>
      <div>{{business.location.display_address[1]}}</div>
      <div>{{business.location.display_address[2]}}</div>
      <br>
      <div>Phone: {{business.display_phone}}</div>
    </a>
  </span>
</div>

</div>


 <div class = "text-center postArea">
 <span ng-repeat = "post in userWallposts track by $index">
  <h4 >{{post.text}}</h4>
  <br>
  <h6> - {{post.fromName}}</h6>
 </span>


  <form class = "addWallPost form-group" ng-submit = "submitMessage()">
    <input class="form-control" id="focusedInput"  type = "text" ng-model = "newItem.text">
    <br>
    <button class = "btn btn-default" >Post on {{user.displayName}}'s wall</button>
  </form>
</div>
 

</div>
</body>
</html>












